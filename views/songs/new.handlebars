<!-- songs/new.handlebars -->
<!-- For adding new songs to the database -->

<header>
    <div class="navbar">
        <a href="/songs">Home</a>
        <a href="/songs/uploaded">Songs</a>
        <a {{#if logged_in}} href="/logout">Log Out {{else}} href="/login">Log In {{/if}} </a>
        <a {{#if logged_in}} style="display:none;" {{/if}} href="/users/new">Create an Account</a>
        <a {{#if logged_in}} style="display:inline;" {{else}} style="display:none;" {{/if}} href="/songs/new">Post a Song</a>
        <a {{#if logged_in}} style="display:inline;" {{else}} style="display:none;" {{/if}} href="/users/profile">Profile</a>
    </div>
</header>
<h1>Grapevine</h1>
<main>
  <section>
    <article class="new-song">
      <h2>Post a Song</h2>
      <form method="POST" class="new-song-form" id="new_song_form" enctype="multipart/form-data">
        <div id="song-questions">
          <div class="sub-entry">
            <div class="input-container">
              <label for="song-title">Song Title</label>
              <input type="text" id="song-title" name="title" placeholder="Song Title" class="full-width-input" />
            </div>
            <div class="alert alert-danger" id="title_error-container" hidden>* Song Title not provided</div>
            <input type="hidden" id="userId" name="userId" value={{user._id}}>
            
            <div class="input-container" id='song-checkbox-container'>
              <p id="genre-input-label">Genre</p>
              <input type="checkbox" id="rock-checkbox" name="genre" value="rock">
              <label for="rock-checkbox">Rock</label><br>
              <input type="checkbox" id="pop-checkbox" name="genre" value="pop">
              <label for="pop-checkbox">Pop</label><br>
              <input type="checkbox" id="indie-checkbox" name="genre" value="indie">
              <label for="indie-checkbox">Indie</label><br>
              <input type="checkbox" id="classical-checkbox" name="genre" value="classical">
              <label for="classical-checkbox">Classical</label><br>
            </div>
            <div class="alert alert-danger" id="genre_error-container" hidden>* Genre not provided</div>
            <div id="file-container" class="input-container">
              <label for="song-file">File</label>
              <input type="file" name="file" id="song-file" class="full-width-input" accept=".mp3"/>
            </div>
            <div class="alert alert-danger" id="file_error-container" hidden>* .mp3 Song File not provided</div>
          </div>
        </div>
        <div class="button-container">
          <button type="submit" class="submit" id="song_post_submit">Post Song</button>
          <button type="reset" id="clearForm">Clear Form</button>
        </div>
      </form>
      <!-- implement error list later
    {{#if hasErrors}}
    <ul class="error-list">
      {{#each errors}}
      <li>
        {{this}}
      </li>
      {{/each}}
    </ul>
    {{/if}}
    -->
    </article>
  </section>
</main>
<footer>Created by Meghana Bhat, Kirsten Meidlinger, Ashish Negi and Paul Szenher</footer>
<script src="/js/songs.js"></script>
{{!-- write whole code
https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault
https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation
 --}}